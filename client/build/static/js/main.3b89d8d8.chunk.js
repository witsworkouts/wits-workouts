(this["webpackJsonpwellness-in-schools-client"]=this["webpackJsonpwellness-in-schools-client"]||[]).push([[0],{27:function(e,t,r){},28:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r.n(s),o=r(16),n=r.n(o),i=r(7),c=r(4),l=r(29),d=r(0);const m=Object(s.createContext)(),j={user:null,token:localStorage.getItem("token"),isAuthenticated:!1,loading:!0,error:null},b=(e,t)=>{switch(t.type){case"AUTH_START":return{...e,loading:!0,error:null};case"AUTH_SUCCESS":return{...e,user:t.payload.user,token:t.payload.token,isAuthenticated:!0,loading:!1,error:null};case"AUTH_FAIL":return{...e,user:null,token:null,isAuthenticated:!1,loading:!1,error:t.payload};case"LOGOUT":return{...e,user:null,token:null,isAuthenticated:!1,loading:!1,error:null};case"UPDATE_USER":return{...e,user:t.payload};case"CLEAR_ERROR":return{...e,error:null};default:return e}},u=e=>{let{children:t}=e;const[r,a]=Object(s.useReducer)(b,j);Object(s.useEffect)(()=>{r.token?(l.a.defaults.headers.common.Authorization=`Bearer ${r.token}`,localStorage.setItem("token",r.token)):(delete l.a.defaults.headers.common.Authorization,localStorage.removeItem("token"))},[r.token]),Object(s.useEffect)(()=>{(async()=>{if(r.token)try{const e=await l.a.get("/api/auth/me");a({type:"AUTH_SUCCESS",payload:{user:e.data,token:r.token}})}catch(e){a({type:"AUTH_FAIL",payload:"Token invalid"})}else a({type:"AUTH_FAIL",payload:null})})()},[]);const o={user:r.user,token:r.token,isAuthenticated:r.isAuthenticated,loading:r.loading,error:r.error,register:async e=>{a({type:"AUTH_START"});try{const t=await l.a.post("/api/auth/register",e);return a({type:"AUTH_SUCCESS",payload:t.data}),{success:!0}}catch(s){var t,r;const e=(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Registration failed";return a({type:"AUTH_FAIL",payload:e}),{success:!1,error:e}}},login:async(e,t)=>{a({type:"AUTH_START"});try{const r=await l.a.post("/api/auth/login",{email:e,password:t});return a({type:"AUTH_SUCCESS",payload:r.data}),{success:!0}}catch(o){var r,s;const e=(null===(r=o.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Login failed";return a({type:"AUTH_FAIL",payload:e}),{success:!1,error:e}}},logout:()=>{a({type:"LOGOUT"})},updateProfile:async e=>{try{const t=await l.a.put("/api/users/profile",e);return a({type:"UPDATE_USER",payload:t.data}),{success:!0}}catch(s){var t,r;return{success:!1,error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Update failed"}}},forgotPassword:async e=>{try{return await l.a.post("/api/auth/forgot-password",{email:e}),{success:!0}}catch(s){var t,r;return{success:!1,error:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to send reset email"}}},resetPassword:async(e,t)=>{try{return await l.a.post(`/api/auth/reset-password/${e}`,{password:t}),{success:!0}}catch(a){var r,s;return{success:!1,error:(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Password reset failed"}}},clearError:()=>{a({type:"CLEAR_ERROR"})}};return Object(d.jsx)(m.Provider,{value:o,children:t})},p=()=>{const e=Object(s.useContext)(m);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},g=Object(s.createContext)(),h={videos:[],categories:[],featuredVideos:[],currentCategory:"featured",loading:!1,error:null,leaderboard:[],currentVideo:null},x=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload,loading:!1};case"SET_CATEGORIES":return{...e,categories:t.payload};case"SET_VIDEOS":return{...e,videos:t.payload,loading:!1,error:null};case"SET_FEATURED_VIDEOS":return{...e,featuredVideos:t.payload};case"SET_CURRENT_CATEGORY":return{...e,currentCategory:t.payload};case"SET_LEADERBOARD":return{...e,leaderboard:t.payload};case"SET_CURRENT_VIDEO":return{...e,currentVideo:t.payload};case"TRACK_VIDEO_VIEW":return{...e,videos:e.videos.map(e=>e._id===t.payload?{...e,viewCount:e.viewCount+1}:e)};case"CLEAR_ERROR":return{...e,error:null};default:return e}},y=e=>{let{children:t}=e;const[r,a]=Object(s.useReducer)(x,h);Object(s.useEffect)(()=>{o(),n(),i()},[]);const o=async()=>{try{const e=await l.a.get("/api/videos/categories");a({type:"SET_CATEGORIES",payload:e.data})}catch(e){console.error("Error loading categories:",e)}},n=async()=>{a({type:"SET_LOADING",payload:!0});try{const e=await l.a.get("/api/videos/featured");a({type:"SET_FEATURED_VIDEOS",payload:e.data}),a({type:"SET_CURRENT_CATEGORY",payload:"featured"}),a({type:"SET_LOADING",payload:!1})}catch(e){console.error("Error loading featured videos:",e),a({type:"SET_LOADING",payload:!1}),a({type:"SET_FEATURED_VIDEOS",payload:[]})}},i=async()=>{try{const e=await l.a.get("/api/videos/leaderboard/top?limit=10");a({type:"SET_LEADERBOARD",payload:e.data})}catch(e){console.error("Error loading leaderboard:",e)}},c={videos:"featured"===r.currentCategory?r.featuredVideos:r.videos,categories:r.categories,featuredVideos:r.featuredVideos,currentCategory:r.currentCategory,loading:r.loading,error:r.error,leaderboard:r.leaderboard,currentVideo:r.currentVideo,loadVideosByCategory:async e=>{a({type:"SET_LOADING",payload:!0});try{const t=await l.a.get(`/api/videos/category/${e}`);a({type:"SET_VIDEOS",payload:t.data}),a({type:"SET_CURRENT_CATEGORY",payload:e}),a({type:"SET_LOADING",payload:!1})}catch(s){var t,r;const e=(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load videos";a({type:"SET_ERROR",payload:e}),a({type:"SET_LOADING",payload:!1}),a({type:"SET_VIDEOS",payload:[]})}},loadFeaturedVideos:n,loadLeaderboard:i,getVideo:async e=>{a({type:"SET_LOADING",payload:!0});try{const t=await l.a.get(`/api/videos/${e}`);return a({type:"SET_CURRENT_VIDEO",payload:t.data}),a({type:"SET_LOADING",payload:!1}),t.data}catch(s){var t,r;const e=(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load video";return a({type:"SET_ERROR",payload:e}),null}},trackVideoView:async e=>{try{await l.a.post(`/api/videos/${e}/view`),a({type:"TRACK_VIDEO_VIEW",payload:e}),i()}catch(t){console.error("Error tracking video view:",t)}},searchVideos:async e=>{if(e.trim()){a({type:"SET_LOADING",payload:!0});try{const t=await l.a.get(`/api/videos/search/${encodeURIComponent(e)}`);a({type:"SET_VIDEOS",payload:t.data}),a({type:"SET_CURRENT_CATEGORY",payload:"search"})}catch(s){var t,r;const e=(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Search failed";a({type:"SET_ERROR",payload:e})}}},clearError:()=>{a({type:"CLEAR_ERROR"})}};return Object(d.jsx)(g.Provider,{value:c,children:t})},O=()=>{const e=Object(s.useContext)(g);if(!e)throw new Error("useVideo must be used within a VideoProvider");return e};var f=e=>{let{children:t}=e;const{isAuthenticated:r,loading:s}=p();return s?Object(d.jsx)("div",{className:"loading",children:"Loading..."}):r?t:Object(d.jsx)(c.a,{to:"/login",replace:!0})};var v=e=>{let{children:t}=e;const{isAuthenticated:r,loading:s,user:a}=p();return s?Object(d.jsx)("div",{className:"loading",children:"Loading..."}):r?"admin"!==(null===a||void 0===a?void 0:a.role)?Object(d.jsx)(c.a,{to:"/",replace:!0}):t:Object(d.jsx)(c.a,{to:"/login",replace:!0})},w=r.p+"static/media/logo.e9b2b71a.png",S=r(5);var N=()=>{const{user:e,isAuthenticated:t,logout:r}=p(),s=Object(c.q)();return Object(d.jsx)("nav",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",padding:"1rem 2rem",position:"sticky",top:0,zIndex:100},children:Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto"},children:[Object(d.jsx)(i.b,{to:"/",style:{textDecoration:"none",color:"white",display:"flex",alignItems:"center",gap:"0.5rem"},children:Object(d.jsx)("img",{src:w,alt:"Wellness in Schools Logo",style:{height:"50px",width:"auto",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})}),Object(d.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:t?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[Object(d.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:["Welcome, ",null===e||void 0===e?void 0:e.username,"!"]}),Object(d.jsxs)(i.b,{to:"/profile",className:"btn btn-secondary",style:{padding:"8px 16px",fontSize:"0.9rem"},children:[Object(d.jsx)(S.v,{style:{marginRight:"0.5rem"}}),"Profile"]}),"admin"===(null===e||void 0===e?void 0:e.role)&&Object(d.jsxs)(i.b,{to:"/admin",className:"btn btn-success",style:{padding:"8px 16px",fontSize:"0.9rem"},children:[Object(d.jsx)(S.e,{style:{marginRight:"0.5rem"}}),"Admin"]}),Object(d.jsxs)("button",{onClick:()=>{r(),s("/")},className:"btn btn-danger",style:{padding:"8px 16px",fontSize:"0.9rem"},children:[Object(d.jsx)(S.r,{style:{marginRight:"0.5rem"}}),"Logout"]})]})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(i.b,{to:"/login",className:"btn btn-primary",style:{padding:"8px 16px",fontSize:"0.9rem"},children:[Object(d.jsx)(S.q,{style:{marginRight:"0.5rem"}}),"Login"]}),Object(d.jsxs)(i.b,{to:"/register",className:"btn btn-secondary",style:{padding:"8px 16px",fontSize:"0.9rem"},children:[Object(d.jsx)(S.w,{style:{marginRight:"0.5rem"}}),"Register"]})]})})]})})};var C=e=>{let{video:t,onClick:r}=e;const[a,o]=Object(s.useState)(!1),n=()=>{var e,r;if(t.thumbnailUrl)return t.thumbnailUrl;const s=null===(e=t.googleDriveUrl)||void 0===e||null===(r=e.match(/\/d\/(.+?)(\/|$)/))||void 0===r?void 0:r[1];return s?`https://drive.google.com/thumbnail?id=${s}&sz=w300-h200`:null};return Object(d.jsxs)("div",{className:"video-card",onClick:()=>{r(t._id)},children:[Object(d.jsxs)("div",{className:"video-thumbnail",children:[!a&&n()?Object(d.jsx)("img",{src:n(),alt:t.title,onError:()=>{o(!0)},style:{width:"100%",height:"100%",objectFit:"cover"}}):(()=>{const e={"workout-sports":"#FF6B35","dance-move":"#4ECDC4",yoga:"#45B7D1",mindfulness:"#96CEB4","pre-school":"#FFEAA7","k-12":"#DDA0DD"}[t.category]||"#2c3e50";return Object(d.jsxs)("div",{style:{width:"100%",height:"100%",background:`linear-gradient(135deg, ${e}, ${e}dd)`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1rem",textAlign:"center",color:"white",fontSize:"0.9rem",fontWeight:"600"},children:[Object(d.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"yoga"===t.category?"\ud83e\uddd8":"workout-sports"===t.category?"\ud83d\udcaa":"dance-move"===t.category?"\ud83d\udc83":"mindfulness"===t.category?"\ud83e\udde0":"pre-school"===t.category?"\ud83d\udc76":"\ud83c\udf93"}),Object(d.jsx)("div",{style:{fontSize:"0.8rem",opacity:.9},children:t.category.replace("-"," ").toUpperCase()})]})})(),Object(d.jsx)("div",{className:"play-button",children:Object(d.jsx)(S.n,{})})]}),Object(d.jsxs)("div",{className:"video-info",children:[Object(d.jsx)("h3",{className:"video-title",children:t.title}),Object(d.jsxs)("div",{className:"video-meta",children:[t.instructor&&Object(d.jsxs)("p",{children:["Instructor: ",t.instructor]}),t.duration&&Object(d.jsxs)("p",{children:["Duration: ",Math.floor(t.duration/60),":",(t.duration%60).toString().padStart(2,"0")]}),Object(d.jsxs)("p",{children:["Views: ",t.viewCount||0]}),t.difficulty&&Object(d.jsx)("span",{style:{background:"beginner"===t.difficulty?"#2ecc71":"intermediate"===t.difficulty?"#f39c12":"#e74c3c",padding:"2px 8px",borderRadius:"10px",fontSize:"0.8rem",textTransform:"capitalize"},children:t.difficulty})]})]})]})};var E=e=>{let{activeCategory:t,activeSubcategory:r,onSubcategoryChange:s}=e;const a=(()=>{switch(t){case"workout-sports":return"#f7981e";case"dance-move":return"#4ECDC4";case"yoga":return"#96CEB4";case"mindfulness":return"#45B7D1";case"pre-school":return"#FFEAA7";case"k-12":return"#DDA0DD";default:return"#FF6B35"}})();return Object(d.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",zIndex:10,background:a,borderRadius:"15px",padding:"1rem",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",minWidth:"250px",marginTop:"10px"},children:[Object(d.jsx)("div",{style:{color:"white",fontWeight:"bold",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"5 Minute Videos"}),Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[{id:"pre-k-2",name:"Pre - K - 2"},{id:"grades-3-4",name:"Grades 3 - 4"},{id:"grades-5-8",name:"Grades 5 - 8"},{id:"high-school",name:"High School"}].map(e=>Object(d.jsx)("button",{onClick:()=>s(e.id),style:{background:r===e.id?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.7)",color:r===e.id?"#333":"#555",border:"none",borderRadius:"20px",padding:"8px 16px",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},onMouseEnter:t=>{r!==e.id&&(t.target.style.background="rgba(255, 255, 255, 0.9)",t.target.style.color="#333")},onMouseLeave:t=>{r!==e.id&&(t.target.style.background="rgba(255, 255, 255, 0.7)",t.target.style.color="#555")},children:e.name},e.id))})]})};var A=e=>{let{categories:t,currentCategory:r,onCategoryChange:a,activeSubcategory:o,onSubcategoryChange:n}=e;const[i,c]=Object(s.useState)(null),l=e=>{a(e),c(i===e?null:e)};return Object(d.jsxs)("div",{className:"category-tabs",children:[Object(d.jsx)("button",{className:"category-tab "+("featured"===r?"active":""),style:{background:"featured"===r?"linear-gradient(45deg, #FF6B35, #F7931E)":"rgba(255, 255, 255, 0.1)",border:"featured"===r?"none":"1px solid rgba(255, 255, 255, 0.2)"},onClick:()=>l("featured"),children:"Featured Videos"}),t.map(e=>Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsxs)("button",{className:"category-tab "+(r===e.id?"active":""),style:{background:r===e.id?`linear-gradient(45deg, ${e.color}, ${e.color}dd)`:"rgba(255, 255, 255, 0.1)",border:r===e.id?"none":"1px solid rgba(255, 255, 255, 0.2)",position:"relative"},onClick:()=>l(e.id),children:[e.name,Object(d.jsx)("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",transform:i===e.id?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease",display:"inline-block"},children:"\u25bc"})]}),i===e.id&&Object(d.jsx)(E,{activeCategory:e.id,activeSubcategory:o,onSubcategoryChange:n})]},e.id)),Object(d.jsx)("button",{className:"category-tab "+("saved"===r?"active":""),style:{background:"saved"===r?"linear-gradient(45deg, #FF6B35, #F7931E)":"rgba(255, 255, 255, 0.1)",border:"saved"===r?"none":"1px solid rgba(255, 255, 255, 0.2)"},onClick:()=>l("saved"),children:"Saved Videos"})]})};var k=e=>{let{leaderboard:t}=e;const r=e=>{switch(e){case 0:return Object(d.jsx)(S.u,{style:{color:"#FFD700",fontSize:"1.2rem"}});case 1:return Object(d.jsx)(S.l,{style:{color:"#C0C0C0",fontSize:"1.2rem"}});case 2:return Object(d.jsx)(S.c,{style:{color:"#CD7F32",fontSize:"1.2rem"}});default:return Object(d.jsx)("span",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:e+1})}};return Object(d.jsxs)("div",{className:"leaderboard",children:[Object(d.jsx)("h3",{style:{textAlign:"center",marginBottom:"1.5rem"},children:"\ud83c\udfc6 Leaderboard"}),t.length>0?t.map((e,t)=>Object(d.jsxs)("div",{className:"leaderboard-item",children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[r(t),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{style:{fontWeight:"600"},children:e.username}),Object(d.jsx)("div",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)"},children:e.schoolName})]})]}),Object(d.jsxs)("div",{style:{fontWeight:"bold",color:"#FF6B35"},children:[e.totalViews," views"]})]},e._id)):Object(d.jsx)("div",{style:{textAlign:"center",padding:"1rem",color:"rgba(255, 255, 255, 0.7)"},children:"No data available"})]})};var T=()=>{const[e,t]=Object(s.useState)(!1),[r,a]=Object(s.useState)({subject:"",message:""}),[o,n]=Object(s.useState)(!1),[i,c]=Object(s.useState)(null),l=e=>{const{name:t,value:r}=e.target;a(e=>({...e,[t]:r}))},m=()=>""!==r.subject.trim()&&""!==r.message.trim();return Object(d.jsxs)("div",{style:{position:"fixed",bottom:"2rem",right:"2rem",zIndex:1e3},children:[e&&Object(d.jsxs)("div",{style:{position:"absolute",bottom:"70px",right:"0",width:"350px",height:"450px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"15px",padding:"1.5rem",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",color:"#333"},children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(0, 0, 0, 0.1)"},children:[Object(d.jsx)("h3",{style:{margin:0,color:"#4ECDC4"},children:"Contact Us"}),Object(d.jsx)("button",{onClick:()=>{t(!1),a({subject:"",message:""}),c(null)},style:{background:"none",border:"none",fontSize:"1rem",cursor:"pointer",color:"#666"},children:Object(d.jsx)(S.s,{})})]}),i&&Object(d.jsx)("div",{style:{padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",background:"success"===i.type?"#d4edda":"#f8d7da",color:"success"===i.type?"#155724":"#721c24",border:"1px solid "+("success"===i.type?"#c3e6cb":"#f5c6cb")},children:i.message}),Object(d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m()){n(!0),c(null);try{const e=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),s=await e.json();s.success?(c({type:"success",message:s.message}),a({subject:"",message:""}),setTimeout(()=>{t(!1),c(null)},3e3)):c({type:"error",message:s.message||"Failed to send message"})}catch(s){console.error("Error submitting form:",s),c({type:"error",message:"Network error. Please try again."})}finally{n(!1)}}},style:{height:"300px"},children:[Object(d.jsxs)("div",{style:{marginBottom:"1rem"},children:[Object(d.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"#555"},children:"Subject *"}),Object(d.jsx)("input",{type:"text",name:"subject",value:r.subject,onChange:l,placeholder:"Enter subject...",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",outline:"none",fontSize:"0.9rem"}})]}),Object(d.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[Object(d.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"#555"},children:"Message *"}),Object(d.jsx)("textarea",{name:"message",value:r.message,onChange:l,placeholder:"Enter your message...",required:!0,rows:"6",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",outline:"none",fontSize:"0.9rem",resize:"vertical",fontFamily:"inherit"}})]}),Object(d.jsx)("button",{type:"submit",disabled:!m()||o,style:{width:"100%",padding:"0.75rem",background:m()&&!o?"linear-gradient(45deg, #4ECDC4, #44A08D)":"#ccc",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:m()&&!o?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.3s ease"},children:o?"Sending...":Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(S.m,{}),"Send Message"]})})]})]}),Object(d.jsx)("button",{onClick:()=>t(!e),style:{width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(45deg, #4ECDC4, #44A08D)",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer",boxShadow:"0 4px 15px rgba(78, 205, 196, 0.4)",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>{e.target.style.transform="scale(1.1)"},onMouseLeave:e=>{e.target.style.transform="scale(1)"},children:Object(d.jsx)(S.f,{})}),Object(d.jsx)("div",{style:{position:"absolute",top:"50%",right:"70px",transform:"translateY(-50%)",background:"#4ECDC4",color:"white",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.9rem",fontWeight:"bold",whiteSpace:"nowrap",opacity:e?0:1,transition:"opacity 0.3s ease"},children:"Contact"})]})};var P=()=>{const{user:e,isAuthenticated:t}=p(),{videos:r,categories:a,currentCategory:o,loading:n,error:i,leaderboard:l,loadVideosByCategory:m,loadFeaturedVideos:j,clearError:b}=O(),u=Object(c.q)(),[g,h]=Object(s.useState)(""),[x,y]=Object(s.useState)("pre-k-2"),f=a&&a.length>0?a:[{id:"workout-sports",name:"Workout & Sports",color:"#FF6B35"},{id:"dance-move",name:"Dance & Move",color:"#4ECDC4"},{id:"yoga",name:"Yoga",color:"#45B7D1"},{id:"mindfulness",name:"Mindfulness",color:"#96CEB4"}];Object(s.useEffect)(()=>{j()},[]);return i?Object(d.jsxs)("div",{className:"error",children:[i,Object(d.jsx)("button",{onClick:b,className:"btn btn-primary",style:{marginLeft:"1rem"},children:"Try Again"})]}):Object(d.jsxs)("div",{className:"fade-in",children:[Object(d.jsxs)("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[Object(d.jsx)("img",{src:w,alt:"Wellness in Schools Logo",style:{height:"120px",width:"auto",marginBottom:"1rem",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.4))"}}),Object(d.jsx)("div",{style:{width:"200px",height:"8px",background:"linear-gradient(90deg, #D2B48C 0%, #F4A460 50%, #DEB887 100%)",margin:"1rem auto",borderRadius:"4px",position:"relative"},children:Object(d.jsx)("div",{style:{width:"20px",height:"12px",background:"linear-gradient(45deg, #D2B48C, #F4A460)",position:"absolute",right:"-10px",top:"-2px",borderRadius:"0 50% 50% 0"}})})]}),Object(d.jsx)(A,{categories:f,currentCategory:o,onCategoryChange:e=>{"featured"===e?j():m(e)},activeSubcategory:x,onSubcategoryChange:e=>{y(e),console.log("Subcategory changed to:",e)}}),Object(d.jsx)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Object(d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g.trim()&&console.log("Search:",g)},style:{display:"inline-block"},children:[Object(d.jsx)("input",{type:"text",placeholder:"Search videos...",value:g,onChange:e=>h(e.target.value),className:"form-input",style:{width:"300px",marginRight:"1rem"}}),Object(d.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Search"})]})}),Object(d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"2rem"},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Videos of the Week!"}),n?Object(d.jsx)("div",{className:"loading",children:"Loading videos..."}):r.length>0?Object(d.jsx)("div",{className:"video-grid",children:r.map(e=>Object(d.jsx)(C,{video:e,onClick:()=>{return t=e._id,void u(`/video/${t}`);var t}},e._id))}):Object(d.jsx)("div",{style:{textAlign:"center",padding:"2rem"},children:Object(d.jsx)("p",{children:"No videos found for this category."})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(k,{leaderboard:l}),t&&e&&Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("h3",{children:"Your Stats"}),Object(d.jsxs)("p",{children:["Total Views: ",e.totalViews||0]}),Object(d.jsxs)("p",{children:["School: ",e.schoolName]})]})]})]}),Object(d.jsxs)("div",{style:{textAlign:"center",marginTop:"3rem",padding:"2rem"},children:[Object(d.jsx)("h3",{children:"WELLNESS IN THE SCHOOLS"}),Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",gap:"1rem"},children:Object(d.jsx)("img",{src:w,alt:"Wellness in Schools Logo",style:{height:"40px",width:"auto",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})})]}),Object(d.jsx)(T,{})]})};var D=()=>{const[e,t]=Object(s.useState)({email:"",password:""}),[r,a]=Object(s.useState)(!1),[o,n]=Object(s.useState)({}),{login:l,error:m,clearError:j,isAuthenticated:b}=p(),u=Object(c.q)();Object(s.useEffect)(()=>{b&&u("/")},[b,u]),Object(s.useEffect)(()=>{j()},[j]);const g=r=>{t({...e,[r.target.name]:r.target.value}),o[r.target.name]&&n({...o,[r.target.name]:""})};return Object(d.jsx)("div",{className:"fade-in",children:Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[Object(d.jsx)(S.q,{style:{fontSize:"3rem",color:"#FF6B35",marginBottom:"1rem"}}),Object(d.jsx)("h2",{children:"Login to Your Account"}),Object(d.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)"},children:"Welcome back! Please sign in to continue."})]}),m&&Object(d.jsx)("div",{className:"error",children:m}),Object(d.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!(()=>{const t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email is invalid"):t.email="Email is required",e.password||(t.password="Password is required"),n(t),0===Object.keys(t).length})())return;(await l(e.email,e.password)).success&&u("/")},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Email Address"}),Object(d.jsx)("input",{type:"email",name:"email",value:e.email,onChange:g,className:"form-input "+(o.email?"error":""),placeholder:"Enter your email"}),o.email&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:o.email})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Password"}),Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsx)("input",{type:r?"text":"password",name:"password",value:e.password,onChange:g,className:"form-input "+(o.password?"error":""),placeholder:"Enter your password"}),Object(d.jsx)("button",{type:"button",onClick:()=>a(!r),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer"},children:r?Object(d.jsx)(S.j,{}):Object(d.jsx)(S.i,{})})]}),o.password&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:o.password})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"1rem"},children:"Sign In"})]}),Object(d.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:Object(d.jsx)(i.b,{to:"/forgot-password",style:{color:"#4ECDC4",textDecoration:"none",fontSize:"0.9rem"},children:"Forgot your password?"})}),Object(d.jsxs)("div",{style:{textAlign:"center",marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:[Object(d.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",marginBottom:"1rem"},children:"Don't have an account?"}),Object(d.jsx)(i.b,{to:"/register",className:"btn btn-secondary",children:"Create Account"})]})]})})};var R=()=>{const[e,t]=Object(s.useState)({username:"",email:"",password:"",confirmPassword:"",schoolName:"",address:""}),[r,a]=Object(s.useState)(!1),[o,n]=Object(s.useState)(!1),[l,m]=Object(s.useState)({}),{register:j,error:b,clearError:u,isAuthenticated:g}=p(),h=Object(c.q)();Object(s.useEffect)(()=>{g&&h("/")},[g,h]),Object(s.useEffect)(()=>{u()},[u]);const x=r=>{t({...e,[r.target.name]:r.target.value}),l[r.target.name]&&m({...l,[r.target.name]:""})};return Object(d.jsx)("div",{className:"fade-in",children:Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[Object(d.jsx)(S.w,{style:{fontSize:"3rem",color:"#4ECDC4",marginBottom:"1rem"}}),Object(d.jsx)("h2",{children:"Create Your Account"}),Object(d.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)"},children:"Join Wellness in Schools and start your wellness journey!"})]}),b&&Object(d.jsx)("div",{className:"error",children:b}),Object(d.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!(()=>{const t={};return e.username?e.username.length<3?t.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(e.username)||(t.username="Username can only contain letters, numbers, and underscores"):t.username="Username is required",e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email is invalid"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"):t.confirmPassword="Please confirm your password",e.schoolName||(t.schoolName="School name is required"),e.address||(t.address="Address is required"),m(t),0===Object.keys(t).length})())return;const r={username:e.username,email:e.email,password:e.password,schoolName:e.schoolName,address:e.address};(await j(r)).success&&h("/")},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"text",name:"username",value:e.username,onChange:x,className:"form-input "+(l.username?"error":""),placeholder:"Choose a username"}),l.username&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:l.username})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Email Address"}),Object(d.jsx)("input",{type:"email",name:"email",value:e.email,onChange:x,className:"form-input "+(l.email?"error":""),placeholder:"Enter your email"}),l.email&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:l.email})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Password"}),Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsx)("input",{type:r?"text":"password",name:"password",value:e.password,onChange:x,className:"form-input "+(l.password?"error":""),placeholder:"Create a password"}),Object(d.jsx)("button",{type:"button",onClick:()=>a(!r),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer"},children:r?Object(d.jsx)(S.j,{}):Object(d.jsx)(S.i,{})})]}),l.password&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:l.password})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Confirm Password"}),Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsx)("input",{type:o?"text":"password",name:"confirmPassword",value:e.confirmPassword,onChange:x,className:"form-input "+(l.confirmPassword?"error":""),placeholder:"Confirm your password"}),Object(d.jsx)("button",{type:"button",onClick:()=>n(!o),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer"},children:o?Object(d.jsx)(S.j,{}):Object(d.jsx)(S.i,{})})]}),l.confirmPassword&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:l.confirmPassword})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"School Name"}),Object(d.jsx)("input",{type:"text",name:"schoolName",value:e.schoolName,onChange:x,className:"form-input "+(l.schoolName?"error":""),placeholder:"Enter your school name"}),l.schoolName&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:l.schoolName})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Address"}),Object(d.jsx)("textarea",{name:"address",value:e.address,onChange:x,className:"form-input "+(l.address?"error":""),placeholder:"Enter your school address",rows:"3",style:{resize:"vertical"}}),l.address&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:l.address})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"1rem"},children:"Create Account"})]}),Object(d.jsxs)("div",{style:{textAlign:"center",marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:[Object(d.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",marginBottom:"1rem"},children:"Already have an account?"}),Object(d.jsx)(i.b,{to:"/login",className:"btn btn-secondary",children:"Sign In"})]})]})})};var B=()=>{const[e,t]=Object(s.useState)(""),[r,a]=Object(s.useState)(""),[o,n]=Object(s.useState)(!1),[c,l]=Object(s.useState)({}),{forgotPassword:m}=p();return Object(d.jsx)("div",{className:"fade-in",children:Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[Object(d.jsx)(S.h,{style:{fontSize:"3rem",color:"#4ECDC4",marginBottom:"1rem"}}),Object(d.jsx)("h2",{children:"Forgot Password"}),Object(d.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)"},children:"Enter your email address and we'll send you a link to reset your password."})]}),r&&Object(d.jsx)("div",{className:"success",children:r}),Object(d.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a(""),l({}),e)if((e=>/\S+@\S+\.\S+/.test(e))(e)){n(!0);try{const t=await m(e);t.success?a("Password reset email sent! Please check your inbox."):l({email:t.error})}catch(r){l({email:"An error occurred. Please try again."})}finally{n(!1)}}else l({email:"Please enter a valid email address"});else l({email:"Email is required"})},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Email Address"}),Object(d.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"form-input "+(c.email?"error":""),placeholder:"Enter your email address",disabled:o}),c.email&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:c.email})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"1rem"},disabled:o,children:o?"Sending...":"Send Reset Link"})]}),Object(d.jsx)("div",{style:{textAlign:"center",marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:Object(d.jsxs)(i.b,{to:"/login",style:{color:"#4ECDC4",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[Object(d.jsx)(S.a,{}),"Back to Login"]})})]})})};var z=()=>{const{token:e}=Object(c.s)(),t=Object(c.q)(),[r,a]=Object(s.useState)({password:"",confirmPassword:""}),[o,n]=Object(s.useState)(!1),[l,m]=Object(s.useState)(!1),[j,b]=Object(s.useState)(""),[u,g]=Object(s.useState)(!1),[h,x]=Object(s.useState)({}),{resetPassword:y}=p(),O=e=>{a({...r,[e.target.name]:e.target.value}),h[e.target.name]&&x({...h,[e.target.name]:""})};return Object(d.jsx)("div",{className:"fade-in",children:Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[Object(d.jsx)(S.k,{style:{fontSize:"3rem",color:"#4ECDC4",marginBottom:"1rem"}}),Object(d.jsx)("h2",{children:"Reset Password"}),Object(d.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)"},children:"Enter your new password below."})]}),j&&Object(d.jsx)("div",{className:"success",children:j}),Object(d.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),(()=>{const e={};return r.password?r.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",x(e),0===Object.keys(e).length})()){g(!0);try{const s=await y(e,r.password);s.success?(b("Password reset successful! You can now login with your new password."),setTimeout(()=>{t("/login")},3e3)):x({password:s.error})}catch(a){x({password:"An error occurred. Please try again."})}finally{g(!1)}}},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"New Password"}),Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsx)("input",{type:o?"text":"password",name:"password",value:r.password,onChange:O,className:"form-input "+(h.password?"error":""),placeholder:"Enter your new password",disabled:u}),Object(d.jsx)("button",{type:"button",onClick:()=>n(!o),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer"},children:o?Object(d.jsx)(S.j,{}):Object(d.jsx)(S.i,{})})]}),h.password&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:h.password})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Confirm New Password"}),Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsx)("input",{type:l?"text":"password",name:"confirmPassword",value:r.confirmPassword,onChange:O,className:"form-input "+(h.confirmPassword?"error":""),placeholder:"Confirm your new password",disabled:u}),Object(d.jsx)("button",{type:"button",onClick:()=>m(!l),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer"},children:l?Object(d.jsx)(S.j,{}):Object(d.jsx)(S.i,{})})]}),h.confirmPassword&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:h.confirmPassword})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"1rem"},disabled:u,children:u?"Resetting...":"Reset Password"})]}),Object(d.jsx)("div",{style:{textAlign:"center",marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:Object(d.jsxs)(i.b,{to:"/login",style:{color:"#4ECDC4",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[Object(d.jsx)(S.a,{}),"Back to Login"]})})]})})};var I=()=>{const{user:e,updateProfile:t}=p(),[r,a]=Object(s.useState)(!1),[o,n]=Object(s.useState)(!1),[i,c]=Object(s.useState)({username:"",schoolName:"",address:""}),[l,m]=Object(s.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[j,b]=Object(s.useState)({current:!1,new:!1,confirm:!1}),[u,g]=Object(s.useState)(""),[h,x]=Object(s.useState)(!1),[y,O]=Object(s.useState)({});Object(s.useEffect)(()=>{e&&c({username:e.username||"",schoolName:e.schoolName||"",address:e.address||""})},[e]);const f=e=>{c({...i,[e.target.name]:e.target.value}),y[e.target.name]&&O({...y,[e.target.name]:""})},v=e=>{m({...l,[e.target.name]:e.target.value}),y[e.target.name]&&O({...y,[e.target.name]:""})};return e?Object(d.jsx)("div",{className:"fade-in",children:Object(d.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[Object(d.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[Object(d.jsx)(S.v,{style:{fontSize:"3rem",color:"#FF6B35",marginBottom:"1rem"}}),Object(d.jsx)("h2",{children:"User Profile"})]}),u&&Object(d.jsx)("div",{className:"success",children:u}),y.general&&Object(d.jsx)("div",{className:"error",children:y.general}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[Object(d.jsx)("h3",{children:"Profile Information"}),Object(d.jsxs)("button",{onClick:()=>a(!r),className:"btn btn-secondary",style:{padding:"8px 16px",fontSize:"0.9rem"},children:[r?Object(d.jsx)(S.s,{}):Object(d.jsx)(S.g,{}),r?" Cancel":" Edit"]})]}),r?Object(d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return i.username?i.username.length<3&&(e.username="Username must be at least 3 characters"):e.username="Username is required",i.schoolName||(e.schoolName="School name is required"),i.address||(e.address="Address is required"),O(e),0===Object.keys(e).length})()){x(!0);try{const e=await t(i);e.success?(g("Profile updated successfully!"),a(!1),setTimeout(()=>g(""),3e3)):O({general:e.error})}catch(r){O({general:"An error occurred. Please try again."})}finally{x(!1)}}},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"text",name:"username",value:i.username,onChange:f,className:"form-input "+(y.username?"error":"")}),y.username&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:y.username})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"School Name"}),Object(d.jsx)("input",{type:"text",name:"schoolName",value:i.schoolName,onChange:f,className:"form-input "+(y.schoolName?"error":"")}),y.schoolName&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:y.schoolName})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Address"}),Object(d.jsx)("textarea",{name:"address",value:i.address,onChange:f,className:"form-input "+(y.address?"error":""),rows:"3"}),y.address&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:y.address})]}),Object(d.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:h,children:[Object(d.jsx)(S.p,{style:{marginRight:"0.5rem"}}),h?"Saving...":"Save Changes"]})]}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Username:"})," ",e.username]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Email:"})," ",e.email]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"School Name:"})," ",e.schoolName]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Address:"})," ",e.address]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Total Video Views:"})," ",e.totalViews||0]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Member Since:"})," ",new Date(e.createdAt).toLocaleDateString()]})]})]}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[Object(d.jsx)("h3",{children:"Change Password"}),Object(d.jsxs)("button",{onClick:()=>n(!o),className:"btn btn-secondary",style:{padding:"8px 16px",fontSize:"0.9rem"},children:[o?Object(d.jsx)(S.s,{}):Object(d.jsx)(S.g,{}),o?" Cancel":" Change Password"]})]}),o&&Object(d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return l.currentPassword||(e.currentPassword="Current password is required"),l.newPassword?l.newPassword.length<6&&(e.newPassword="Password must be at least 6 characters"):e.newPassword="New password is required",l.confirmPassword?l.newPassword!==l.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",O(e),0===Object.keys(e).length})()){x(!0);try{g("Password change functionality to be implemented"),n(!1),m({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>g(""),3e3)}catch(t){O({general:"An error occurred. Please try again."})}finally{x(!1)}}},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Current Password"}),Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsx)("input",{type:j.current?"text":"password",name:"currentPassword",value:l.currentPassword,onChange:v,className:"form-input "+(y.currentPassword?"error":"")}),Object(d.jsx)("button",{type:"button",onClick:()=>b({...j,current:!j.current}),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer"},children:j.current?Object(d.jsx)(S.j,{}):Object(d.jsx)(S.i,{})})]}),y.currentPassword&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:y.currentPassword})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"New Password"}),Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsx)("input",{type:j.new?"text":"password",name:"newPassword",value:l.newPassword,onChange:v,className:"form-input "+(y.newPassword?"error":"")}),Object(d.jsx)("button",{type:"button",onClick:()=>b({...j,new:!j.new}),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer"},children:j.new?Object(d.jsx)(S.j,{}):Object(d.jsx)(S.i,{})})]}),y.newPassword&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:y.newPassword})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Confirm New Password"}),Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsx)("input",{type:j.confirm?"text":"password",name:"confirmPassword",value:l.confirmPassword,onChange:v,className:"form-input "+(y.confirmPassword?"error":"")}),Object(d.jsx)("button",{type:"button",onClick:()=>b({...j,confirm:!j.confirm}),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer"},children:j.confirm?Object(d.jsx)(S.j,{}):Object(d.jsx)(S.i,{})})]}),y.confirmPassword&&Object(d.jsx)("div",{style:{color:"#ff6b6b",fontSize:"0.9rem",marginTop:"0.5rem"},children:y.confirmPassword})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Changing...":"Change Password"})]})]})]})}):Object(d.jsx)("div",{className:"loading",children:"Loading profile..."})};var _=()=>{const[e,t]=Object(s.useState)("overview"),[r,a]=Object(s.useState)(!1),[o,n]=Object(s.useState)([]),[i,c]=Object(s.useState)(!1),[m,j]=Object(s.useState)({title:"",description:"",category:"workout-sports",googleDriveUrl:"",instructor:"",difficulty:"beginner",ageGroup:"all",tags:"",featured:!1}),b=[{id:"overview",name:"Overview",icon:Object(d.jsx)(S.d,{})},{id:"users",name:"Users",icon:Object(d.jsx)(S.x,{})},{id:"videos",name:"Videos",icon:Object(d.jsx)(S.y,{})},{id:"settings",name:"Settings",icon:Object(d.jsx)(S.e,{})}];Object(s.useEffect)(()=>{"videos"===e&&u()},[e]);const u=async()=>{try{const e=await l.a.get("/api/admin/videos");n(e.data)}catch(e){console.error("Error loading videos:",e)}},p=e=>{const t=e.match(/\/d\/(.+?)(\/|$)/);return t?t[1]:e};return Object(d.jsx)("div",{className:"fade-in",children:Object(d.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[Object(d.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[Object(d.jsx)(S.e,{style:{fontSize:"3rem",color:"#45B7D1",marginBottom:"1rem"}}),Object(d.jsx)("h2",{children:"Admin Dashboard"}),Object(d.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)"},children:"Manage users, videos, and view analytics"})]}),Object(d.jsx)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap",justifyContent:"center"},children:b.map(r=>Object(d.jsxs)("button",{onClick:()=>t(r.id),className:"btn "+(e===r.id?"btn-success":"btn-secondary"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"12px 20px"},children:[r.icon,r.name]},r.id))}),Object(d.jsxs)("div",{className:"card",children:["overview"===e&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Dashboard Overview"}),Object(d.jsx)("p",{children:"Welcome to the admin dashboard! This is where you can manage all aspects of the Wellness in Schools platform."}),Object(d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginTop:"2rem"},children:[Object(d.jsxs)("div",{className:"card",style:{textAlign:"center"},children:[Object(d.jsx)(S.x,{style:{fontSize:"2rem",color:"#FF6B35",marginBottom:"1rem"}}),Object(d.jsx)("h4",{children:"Total Users"}),Object(d.jsx)("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#FF6B35"},children:"0"})]}),Object(d.jsxs)("div",{className:"card",style:{textAlign:"center"},children:[Object(d.jsx)(S.y,{style:{fontSize:"2rem",color:"#4ECDC4",marginBottom:"1rem"}}),Object(d.jsx)("h4",{children:"Total Videos"}),Object(d.jsx)("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#4ECDC4"},children:o.length})]}),Object(d.jsxs)("div",{className:"card",style:{textAlign:"center"},children:[Object(d.jsx)(S.d,{style:{fontSize:"2rem",color:"#45B7D1",marginBottom:"1rem"}}),Object(d.jsx)("h4",{children:"Total Views"}),Object(d.jsx)("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#45B7D1"},children:"0"})]})]})]}),"users"===e&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"User Management"}),Object(d.jsx)("p",{children:"Manage user accounts, view statistics, and monitor activity."}),Object(d.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:[Object(d.jsx)(S.x,{style:{fontSize:"3rem",marginBottom:"1rem"}}),Object(d.jsx)("p",{children:"User management features coming soon..."})]})]}),"videos"===e&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[Object(d.jsx)("h3",{children:"Video Management"}),Object(d.jsxs)("button",{onClick:()=>c(!0),className:"btn btn-primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[Object(d.jsx)(S.o,{}),"Add Video"]})]}),i&&Object(d.jsxs)("div",{className:"card",style:{marginBottom:"2rem"},children:[Object(d.jsx)("h4",{children:"Add New Video"}),Object(d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(!0);try{const e=p(m.googleDriveUrl),t={...m,googleDriveId:e,tags:m.tags.split(",").map(e=>e.trim()).filter(e=>e)};await l.a.post("/api/admin/videos",t),c(!1),j({title:"",description:"",category:"workout-sports",googleDriveUrl:"",instructor:"",difficulty:"beginner",ageGroup:"all",tags:"",featured:!1}),u()}catch(t){console.error("Error adding video:",t)}finally{a(!1)}},children:[Object(d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",value:m.title,onChange:e=>j({...m,title:e.target.value}),className:"form-input",required:!0})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Category"}),Object(d.jsx)("select",{value:m.category,onChange:e=>j({...m,category:e.target.value}),className:"form-input",required:!0,children:[{id:"workout-sports",name:"Workout & Sports"},{id:"dance-move",name:"Dance & Move"},{id:"yoga",name:"Yoga"},{id:"mindfulness",name:"Mindfulness"},{id:"pre-school",name:"Pre-School"},{id:"k-12",name:"K-12"}].map(e=>Object(d.jsx)("option",{value:e.id,children:e.name},e.id))})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Google Drive URL"}),Object(d.jsx)("input",{type:"url",value:m.googleDriveUrl,onChange:e=>j({...m,googleDriveUrl:e.target.value}),className:"form-input",placeholder:"https://drive.google.com/file/d/...",required:!0})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Instructor"}),Object(d.jsx)("input",{type:"text",value:m.instructor,onChange:e=>j({...m,instructor:e.target.value}),className:"form-input"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Difficulty"}),Object(d.jsxs)("select",{value:m.difficulty,onChange:e=>j({...m,difficulty:e.target.value}),className:"form-input",children:[Object(d.jsx)("option",{value:"beginner",children:"Beginner"}),Object(d.jsx)("option",{value:"intermediate",children:"Intermediate"}),Object(d.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Age Group"}),Object(d.jsxs)("select",{value:m.ageGroup,onChange:e=>j({...m,ageGroup:e.target.value}),className:"form-input",children:[Object(d.jsx)("option",{value:"all",children:"All Ages"}),Object(d.jsx)("option",{value:"pre-school",children:"Pre-School"}),Object(d.jsx)("option",{value:"elementary",children:"Elementary"}),Object(d.jsx)("option",{value:"middle",children:"Middle School"}),Object(d.jsx)("option",{value:"high",children:"High School"})]})]})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Description"}),Object(d.jsx)("textarea",{value:m.description,onChange:e=>j({...m,description:e.target.value}),className:"form-input",rows:"3"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Tags (comma-separated)"}),Object(d.jsx)("input",{type:"text",value:m.tags,onChange:e=>j({...m,tags:e.target.value}),className:"form-input",placeholder:"workout, morning, energy"})]}),Object(d.jsx)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:Object(d.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[Object(d.jsx)("input",{type:"checkbox",checked:m.featured,onChange:e=>j({...m,featured:e.target.checked})}),"Featured Video"]})}),Object(d.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?"Adding...":"Add Video"}),Object(d.jsx)("button",{type:"button",onClick:()=>c(!1),className:"btn btn-secondary",children:"Cancel"})]})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h4",{children:["Current Videos (",o.length,")"]}),o.length>0?Object(d.jsx)("div",{style:{display:"grid",gap:"1rem"},children:o.map(e=>Object(d.jsxs)("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h5",{children:e.title}),Object(d.jsxs)("p",{style:{color:"rgba(255, 255, 255, 0.7)",marginBottom:"0.5rem"},children:[e.category," \u2022 ",e.instructor," \u2022 ",e.difficulty]}),Object(d.jsx)("p",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.6)"},children:e.description})]}),Object(d.jsx)("div",{style:{display:"flex",gap:"0.5rem"},children:Object(d.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this video?"))try{await l.a.delete(`/api/admin/videos/${e}`),u()}catch(t){console.error("Error deleting video:",t)}})(e._id),className:"btn btn-danger",style:{padding:"8px 12px"},children:Object(d.jsx)(S.t,{})})})]},e._id))}):Object(d.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:[Object(d.jsx)(S.y,{style:{fontSize:"3rem",marginBottom:"1rem"}}),Object(d.jsx)("p",{children:"No videos found. Add your first video!"})]})]})]}),"settings"===e&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Platform Settings"}),Object(d.jsx)("p",{children:"Configure platform settings and preferences."}),Object(d.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:[Object(d.jsx)(S.e,{style:{fontSize:"3rem",marginBottom:"1rem"}}),Object(d.jsx)("p",{children:"Settings configuration coming soon..."})]})]})]})]})})};var U=()=>{const{id:e}=Object(c.s)(),t=Object(c.q)(),{currentVideo:r,getVideo:a,trackVideoView:o,videos:n}=O(),{isAuthenticated:i}=p(),[l,m]=Object(s.useState)(0);Object(s.useEffect)(()=>{(async()=>{await a(e)&&i&&await o(e)})()},[e,i]),Object(s.useEffect)(()=>{if(n.length>0){const t=n.findIndex(t=>t._id===e);m(t>=0?t:0)}},[e,n]);return r?Object(d.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3},children:Object(d.jsxs)("div",{className:"modal-content",style:{background:"rgba(44, 62, 80, 0.95)",backdropFilter:"blur(20px)",borderRadius:"20px",padding:"2rem",maxWidth:"90vw",maxHeight:"90vh",overflow:"hidden",border:"1px solid rgba(255, 255, 255, 0.2)",position:"relative"},children:[Object(d.jsx)("button",{onClick:()=>{t("/")},style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(231, 76, 60, 0.8)",border:"none",borderRadius:"50%",width:"40px",height:"40px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:Object(d.jsx)(S.s,{})}),Object(d.jsx)("button",{onClick:()=>{if(l>0){const e=n[l-1];t(`/video/${e._id}`)}},disabled:0===l,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",background:0===l?"rgba(255, 255, 255, 0.2)":"rgba(255, 107, 53, 0.8)",border:"none",borderRadius:"50%",width:"50px",height:"50px",color:"white",cursor:0===l?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:Object(d.jsx)(S.a,{})}),Object(d.jsx)("button",{onClick:()=>{if(l<n.length-1){const e=n[l+1];t(`/video/${e._id}`)}},disabled:l===n.length-1,style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)",background:l===n.length-1?"rgba(255, 255, 255, 0.2)":"rgba(255, 107, 53, 0.8)",border:"none",borderRadius:"50%",width:"50px",height:"50px",color:"white",cursor:l===n.length-1?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:Object(d.jsx)(S.b,{})}),Object(d.jsxs)("div",{style:{textAlign:"center"},children:[Object(d.jsx)("h2",{style:{marginBottom:"1rem",color:"white"},children:r.title}),Object(d.jsx)("div",{style:{position:"relative",width:"100%",maxWidth:"800px",margin:"0 auto",background:"#000",borderRadius:"10px",overflow:"hidden"},children:Object(d.jsx)("iframe",{src:(e=>{var t;const r=null===(t=e.match(/\/d\/(.+?)(\/|$)/))||void 0===t?void 0:t[1];return r?`https://drive.google.com/file/d/${r}/preview`:e})(r.googleDriveUrl),width:"100%",height:"450",frameBorder:"0",allowFullScreen:!0,title:r.title})}),Object(d.jsxs)("div",{style:{marginTop:"1rem",textAlign:"left",maxWidth:"800px",margin:"1rem auto 0",color:"white"},children:[r.description&&Object(d.jsx)("p",{style:{marginBottom:"1rem",lineHeight:"1.6"},children:r.description}),Object(d.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",fontSize:"0.9rem"},children:[r.instructor&&Object(d.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:["Instructor: ",r.instructor]}),r.duration&&Object(d.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:["Duration: ",Math.floor(r.duration/60),":",(r.duration%60).toString().padStart(2,"0")]}),Object(d.jsxs)("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:["Views: ",r.viewCount||0]}),r.difficulty&&Object(d.jsx)("span",{style:{background:"beginner"===r.difficulty?"#2ecc71":"intermediate"===r.difficulty?"#f39c12":"#e74c3c",padding:"2px 8px",borderRadius:"10px",textTransform:"capitalize"},children:r.difficulty})]})]}),Object(d.jsx)("div",{style:{marginTop:"1rem",color:"rgba(255, 255, 255, 0.7)",fontSize:"0.9rem"},children:n.length>1&&Object(d.jsxs)("p",{children:["Video ",l+1," of ",n.length," \u2022 Use arrow keys or click the arrows to navigate"]})})]})]})}):Object(d.jsx)("div",{className:"loading",children:"Loading video..."})},V=(r(27),r.p+"static/media/background.058a6ded.png");var F=function(){return Object(s.useEffect)(()=>{document.body.style.backgroundImage=`url(${V})`,document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center center",document.body.style.backgroundAttachment="fixed",document.body.style.backgroundRepeat="no-repeat"},[]),Object(d.jsx)(u,{children:Object(d.jsx)(y,{children:Object(d.jsx)(i.a,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(N,{}),Object(d.jsx)("main",{className:"main-content",children:Object(d.jsxs)(c.d,{children:[Object(d.jsx)(c.b,{path:"/",element:Object(d.jsx)(P,{})}),Object(d.jsx)(c.b,{path:"/login",element:Object(d.jsx)(D,{})}),Object(d.jsx)(c.b,{path:"/register",element:Object(d.jsx)(R,{})}),Object(d.jsx)(c.b,{path:"/forgot-password",element:Object(d.jsx)(B,{})}),Object(d.jsx)(c.b,{path:"/reset-password/:token",element:Object(d.jsx)(z,{})}),Object(d.jsx)(c.b,{path:"/video/:id",element:Object(d.jsx)(U,{})}),Object(d.jsx)(c.b,{path:"/profile",element:Object(d.jsx)(f,{children:Object(d.jsx)(I,{})})}),Object(d.jsx)(c.b,{path:"/admin/*",element:Object(d.jsx)(v,{children:Object(d.jsx)(_,{})})}),Object(d.jsx)(c.b,{path:"*",element:Object(d.jsx)(c.a,{to:"/",replace:!0})})]})})]})})})})};n.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(F,{})}))}},[[28,1,2]]]);
//# sourceMappingURL=main.3b89d8d8.chunk.js.map